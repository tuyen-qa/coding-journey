State: {type:'idle'|'loading'|'done'|'error'}; exhaustive switch.